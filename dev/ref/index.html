<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · DECAES.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">DECAES.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../cli/">Command Line Interface</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#t2map-1"><span><span>$T_2$</span>-Distribution Mapping</span></a></li><li><a class="tocitem" href="#t2part-1"><span><span>$T_2$</span>-Parts and the Myelin Water Fraction</span></a></li><li><a class="tocitem" href="#nnls-1"><span>NNLS Analysis</span></a></li><li><a class="tocitem" href="#epg-1"><span>Extended Phase Graph Algorithm</span></a></li><li><a class="tocitem" href="#main-1"><span>Main Entrypoint Function</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jondeuce/DECAES.jl/blob/master/docs/src/ref.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference-1"><a class="docs-heading-anchor" href="#API-Reference-1">API Reference</a><a class="docs-heading-anchor-permalink" href="#API-Reference-1" title="Permalink"></a></h1><h2 id="t2map-1"><a class="docs-heading-anchor" href="#t2map-1"><span>$T_2$</span>-Distribution Mapping</a><a class="docs-heading-anchor-permalink" href="#t2map-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DECAES.T2mapOptions" href="#DECAES.T2mapOptions"><code>DECAES.T2mapOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">T2mapOptions(; &lt;keyword arguments&gt;)</code></pre><p>Options structure for <a href="#DECAES.T2mapSEcorr"><code>T2mapSEcorr</code></a>. This struct collects keyword arguments passed to <code>T2mapSEcorr</code>, performs checks on parameter types and values, and assigns default values to unspecified parameters.</p><p><strong>Arguments</strong></p><ul><li><code>MatrixSize</code>:       size of first 3 dimensions of input 4D image. This argument is has no default, but is inferred automatically as <code>size(image)[1:3]</code> when calling <code>T2mapSEcorr(image; kwargs...)</code></li><li><code>nTE</code>:              number of echoes in input signal. This argument is has no default, but is inferred automatically as <code>size(image, 4)</code> when calling <code>T2mapSEcorr(image; kwargs...)</code></li><li><code>TE</code>:               interecho spacing (Default: <code>10e-3</code>, Units: seconds)</li><li><code>T1</code>:               assumed value of T1 (Default: <code>1.0</code>, Units: seconds)</li><li><code>Threshold</code>:        first echo intensity cutoff for empty voxels (Default: <code>200.0</code>)</li><li><code>Chi2Factor</code>:       constraint on <span>$\chi^2$</span> used for regularization when <code>Reg == &quot;chi2&quot;</code> (Default: <code>1.02</code>)</li><li><code>nT2</code>:              number of T2 times to use (Default: <code>40</code>)</li><li><code>T2Range</code>:          min and max T2 values (Default: <code>(10e-3, 2.0)</code>, Units: seconds)</li><li><code>RefConAngle</code>:      refocusing pulse control angle (Default: <code>180.0</code>, Units: degrees)</li><li><code>MinRefAngle</code>:      minimum refocusing angle for flip angle optimization (Default: <code>50.0</code>, Units: degrees)</li><li><code>nRefAngles</code>:       during flip angle optimization, goodness of fit is checked for up to <code>nRefAngles</code> angles in the range <code>[MinRefAngle, 180]</code>. The optimal angle is then determined through interpolation from these samples (Default: <code>32</code>)</li><li><code>nRefAnglesMin</code>:    initial number of angles to check during flip angle optimization before refinement near likely optima; <code>nRefAnglesMin == nRefAngles</code> forces all angles to be checked (Default: <code>5</code>)</li><li><code>Reg</code>:              regularization routine to use:<ul><li><code>&quot;no&quot;</code>:         no regularization of solution</li><li><code>&quot;chi2&quot;</code>:       use <code>Chi2Factor</code> based regularization (Default)</li><li><code>&quot;lcurve&quot;</code>:     use L-Curve based regularization</li></ul></li><li><code>SetFlipAngle</code>:     instead of optimizing flip angle, use this flip angle for all voxels (Default: <code>nothing</code>, Units: degrees)</li><li><code>SaveResidualNorm</code>: <code>true</code>/<code>false</code> option to include a 3D array of the <span>$\ell^2$</span>-norms of the residuals from the NNLS fits in the output maps dictionary (Default: <code>false</code>)</li><li><code>SaveDecayCurve</code>:   <code>true</code>/<code>false</code> option to include a 4D array of the time domain decay curves resulting from the NNLS fits in the output maps dictionary (Default: <code>false</code>)</li><li><code>SaveRegParam</code>:     <code>true</code>/<code>false</code> option to include 3D arrays of the regularization parameters <span>$\mu$</span> and resulting <span>$\chi^2$</span>-factors in the output maps dictionary (Default: <code>false</code>)</li><li><code>SaveNNLSBasis</code>:    <code>true</code>/<code>false</code> option to include a 4D array of NNLS basis matrices in the output maps dictionary (Default: <code>false</code>)</li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The 4D array that is saved when <code>SaveNNLSBasis</code> is set to <code>true</code> has dimensions <code>MatrixSize x nTE x nT2</code>, and therefore is typically extremely large; by default, it is <code>nT2 = 40</code> times the size of the input image.</p></div></div><ul><li><code>Silent</code>:         suppress printing to the console (Default: <code>false</code>)</li></ul><p>See also:</p><ul><li><a href="#DECAES.T2mapSEcorr"><code>T2mapSEcorr</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DECAES.T2mapSEcorr" href="#DECAES.T2mapSEcorr"><code>DECAES.T2mapSEcorr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">T2mapSEcorr(image; &lt;keyword arguments&gt;)
T2mapSEcorr(image, opts::T2mapOptions)</code></pre><p>Uses nonnegative least squares (NNLS) to compute T2 distributions in the presence of stimulated echos by optimizing the refocusing pulse flip angle. Records parameter maps and T2 distributions for further partitioning.</p><p><strong>Arguments</strong></p><ul><li><code>image</code>: 4D array with intensity data as <code>(row, column, slice, echo)</code></li><li>A series of optional keyword argument settings which will be used to construct a <a href="#DECAES.T2mapOptions"><code>T2mapOptions</code></a> struct internally, or a <a href="#DECAES.T2mapOptions"><code>T2mapOptions</code></a> struct directly</li></ul><p><strong>Outputs</strong></p><ul><li><code>maps</code>: dictionary containing parameter maps with the following fields:<ul><li><strong>Default Fields</strong><ul><li><code>&quot;echotimes&quot;</code>     Echo times of time signal (length <code>nTE</code> 1D array)</li><li><code>&quot;t2times&quot;</code>       T2 times corresponding to T2-distributions (length <code>nT2</code> 1D array)</li><li><code>&quot;refangleset&quot;</code>   Refocusing angles used during flip angle optimization (length <code>nRefAngles</code> 1D array by default; scalar if <code>SetFlipAngle</code> is used)</li><li><code>&quot;decaybasisset&quot;</code> Decay basis sets corresponding to <code>&quot;refangleset&quot;</code> (<code>nTE x nT2 x nRefAngles</code> 3D array by default; <code>nTE x nT2</code> 2D array if <code>SetFlipAngle</code> is used)</li><li><code>&quot;gdn&quot;</code>:          Map of general density = sum(T2distribution) (<code>MatrixSize</code> 3D array)</li><li><code>&quot;ggm&quot;</code>:          Map of general geometric mean of T2-distribution (<code>MatrixSize</code> 3D array)</li><li><code>&quot;gva&quot;</code>:          Map of general variance (<code>MatrixSize</code> 3D array)</li><li><code>&quot;fnr&quot;</code>:          Map of fit to noise ratio = gdn / sqrt(sum(residuals.^2) / (nTE-1)) (<code>MatrixSize</code> 3D array)</li><li><code>&quot;snr&quot;</code>:          Map of signal to noise ratio = maximum(signal) / std(residuals) (<code>MatrixSize</code> 3D array)</li><li><code>&quot;alpha&quot;</code>:        Map of optimized refocusing pulse flip angle (<code>MatrixSize</code> 3D array)</li></ul></li><li><strong>Optional Fields</strong><ul><li><code>&quot;resnorm&quot;</code>:      <span>$\ell^2$</span>-norm of NNLS fit residuals; see <code>SaveResidualNorm</code> option (<code>MatrixSize</code> 3D array)</li><li><code>&quot;decaycurve&quot;</code>:   Signal decay curve resulting from NNLS fit; see <code>SaveDecayCurve</code> option (<code>MatrixSize x nTE</code> 4D array)</li><li><code>&quot;mu&quot;</code>:           Regularization parameter used during from NNLS fit; see <code>SaveRegParam</code> option (<code>MatrixSize</code> 3D array)</li><li><code>&quot;chi2factor&quot;</code>:   <span>$\chi^2$</span> increase factor relative to unregularized NNLS fit; see <code>SaveRegParam</code> option (<code>MatrixSize</code> 3D array)</li><li><code>&quot;decaybasis&quot;</code>:   Decay bases resulting from flip angle optimization; see <code>SaveNNLSBasis</code> option (<code>MatrixSize x nTE x nT2</code> 5D array, or <code>nTE x nT2</code> 2D array if <code>SetFlipAngle</code> is used)</li></ul></li></ul></li><li><code>distributions</code>: T2-distribution array with data as <code>(row, column, slice, T2 amplitude)</code> (<code>MatrixSize x nT2</code> 4D array)</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; image = DECAES.mock_image(MatrixSize = (100,100,1), nTE = 32); # mock image with size 100x100x1x32

julia&gt; maps, dist = T2mapSEcorr(image; TE = 10e-3, Silent = true); # compute the T2-maps and T2-distribution

julia&gt; maps
Dict{String,Array{Float64,N} where N} with 10 entries:
  &quot;echotimes&quot;     =&gt; [0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1  …  0.23, …
  &quot;t2times&quot;       =&gt; [0.01, 0.0114551, 0.013122, 0.0150315, 0.0172188, 0.0197244, 0.022594…
  &quot;refangleset&quot;   =&gt; [50.0, 54.1935, 58.3871, 62.5806, 66.7742, 70.9677, 75.1613, 79.3548,…
  &quot;gdn&quot;           =&gt; [1.86624e5 1.1901e5 … 1.3624e5 1.72367e5; 1.49169e5 1.24536e5 … 1.623…
  &quot;fnr&quot;           =&gt; [479.252 451.153 … 492.337 522.685; 328.645 440.903 … 473.648 416.366…
  &quot;alpha&quot;         =&gt; [165.011 164.049 … 163.291 164.945; 164.849 166.599 … 163.674 165.679…
  &quot;gva&quot;           =&gt; [0.485815 0.401323 … 0.340727 0.436184; 0.321887 0.317154 … 0.278256 …
  &quot;ggm&quot;           =&gt; [0.0494864 0.0506017 … 0.0518207 0.0501371; 0.0530299 0.052983 … 0.05…
  &quot;snr&quot;           =&gt; [368.732 349.29 … 384.417 406.59; 258.914 349.542 … 373.792 331.304; …
  &quot;decaybasisset&quot; =&gt; [0.0277684 0.0315296 … 0.0750511 0.0751058; 0.0469882 0.0536334 … 0.1…</code></pre><p>See also:</p><ul><li><a href="#DECAES.T2partSEcorr"><code>T2partSEcorr</code></a></li><li><a href="#DECAES.lsqnonneg"><code>lsqnonneg</code></a></li><li><a href="#DECAES.lsqnonneg_reg"><code>lsqnonneg_reg</code></a></li><li><a href="#DECAES.lsqnonneg_lcurve"><code>lsqnonneg_lcurve</code></a></li><li><a href="#DECAES.EPGdecaycurve"><code>EPGdecaycurve</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/DECAES.jl/blob/cc80e6b3de6cdc5018ea0bbdde32dc729725ccfd/src/T2mapSEcorr.jl#L1-L59">source</a></section></article><h2 id="t2part-1"><a class="docs-heading-anchor" href="#t2part-1"><span>$T_2$</span>-Parts and the Myelin Water Fraction</a><a class="docs-heading-anchor-permalink" href="#t2part-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DECAES.T2partOptions" href="#DECAES.T2partOptions"><code>DECAES.T2partOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">T2partOptions(; &lt;keyword arguments&gt;)</code></pre><p>Options structure for <a href="#DECAES.T2partSEcorr"><code>T2partSEcorr</code></a>. This struct collects keyword arguments passed to <code>T2partSEcorr</code>, performs checks on parameter types and values, and assigns default values to unspecified parameters.</p><p><strong>Arguments</strong></p><ul><li><code>MatrixSize</code>: size of first 3 dimensions of input 4D T2 distribution. This argument is has no default, but is inferred automatically as <code>size(T2distribution)[1:3]</code> when calling <code>T2partSEcorr(T2distribution; kwargs...)</code></li><li><code>nT2</code>:        number of T2 values in distribution. This argument is has no default, but is inferred automatically as <code>size(T2distribution, 4)</code> when calling <code>T2partSEcorr(T2distribution; kwargs...)</code></li><li><code>T2Range</code>:    min and max T2 values of distribution (Default: <code>(10e-3, 2.0)</code>, Units: seconds)</li><li><code>SPWin</code>:      min and max T2 values of the short peak window (Default: <code>(10e-3, 25e-3)</code>, Units: seconds)</li><li><code>MPWin</code>:      min and max T2 values of the middle peak window (Default: <code>(25e-3, 200e-3)</code>, Units: seconds)</li><li><code>Sigmoid</code>:    apply sigmoidal weighting to the upper limit of the short peak window in order to smooth the hard small pool window cutoff time.               <code>Sigmoid</code> is the delta-T2 parameter, which is the distance in seconds on either side of the <code>SPWin</code> upper limit where the sigmoid curve reaches 10% and 90% (Default: <code>nothing</code>, Units: seconds)</li><li><code>Silent</code>:     suppress printing to the console (Default: <code>false</code>)</li></ul><p>See also:</p><ul><li><a href="#DECAES.T2partSEcorr"><code>T2partSEcorr</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DECAES.T2partSEcorr" href="#DECAES.T2partSEcorr"><code>DECAES.T2partSEcorr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">T2partSEcorr(T2distributions; &lt;keyword arguments&gt;)
T2partSEcorr(T2distributions, opts::T2partOptions)</code></pre><p>Analyzes T2 distributions produced by <a href="#DECAES.T2mapSEcorr"><code>T2mapSEcorr</code></a> to produce data maps of a series of parameters.</p><p><strong>Arguments</strong></p><ul><li><code>T2distributions</code>: 4D array with data as <code>(row, column, slice, T2 amplitude)</code></li><li>A series of optional keyword argument settings which will be used to construct a <a href="#DECAES.T2partOptions"><code>T2partOptions</code></a> struct internally, or a <a href="#DECAES.T2partOptions"><code>T2partOptions</code></a> struct directly</li></ul><p><strong>Ouputs</strong></p><ul><li><code>maps</code>: a dictionary containing the following 3D data maps as fields:<ul><li><code>&quot;sfr&quot;</code>: small pool fraction, e.g. myelin water fraction (<code>MatrixSize</code> 3D array)</li><li><code>&quot;sgm&quot;</code>: small pool geometric mean T2 (<code>MatrixSize</code> 3D array)</li><li><code>&quot;mfr&quot;</code>: medium pool fraction, e.g. intra/extracellular water fraction (<code>MatrixSize</code> 3D array)</li><li><code>&quot;mgm&quot;</code>: medium pool geometric mean T2 (<code>MatrixSize</code> 3D array)</li></ul></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; dist = DECAES.mock_T2_dist(MatrixSize = (100,100,1), nT2 = 40); # mock distribution with size 100x100x1x40

julia&gt; maps = T2partSEcorr(dist; Silent = true); # compute T2-parts maps

julia&gt; maps # MWF is contained in maps[&quot;sfr&quot;]
Dict{String,Array{Float64,3}} with 4 entries:
  &quot;sgm&quot; =&gt; [0.0159777 0.0156194 … 0.0149169 0.0121455; 0.015296 0.0143854 … 0.018459 0.01627…
  &quot;mfr&quot; =&gt; [0.852735 0.814759 … 0.808621 0.859088; 0.830943 0.804878 … 0.836248 0.816681; … …
  &quot;sfr&quot; =&gt; [0.147265 0.185241 … 0.191379 0.140912; 0.169057 0.195122 … 0.163752 0.183319; … …
  &quot;mgm&quot; =&gt; [0.0600928 0.0581919 … 0.0612683 0.0563942; 0.0606434 0.0584615 … 0.0569397 0.054…</code></pre><p>See also:</p><ul><li><a href="#DECAES.T2mapSEcorr"><code>T2mapSEcorr</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/DECAES.jl/blob/cc80e6b3de6cdc5018ea0bbdde32dc729725ccfd/src/T2partSEcorr.jl#L1-L34">source</a></section></article><h2 id="nnls-1"><a class="docs-heading-anchor" href="#nnls-1">NNLS Analysis</a><a class="docs-heading-anchor-permalink" href="#nnls-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DECAES.lsqnonneg" href="#DECAES.lsqnonneg"><code>DECAES.lsqnonneg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">lsqnonneg(C::AbstractMatrix, d::AbstractVector)</code></pre><p>Returns the nonnegative least-squares (NNLS) solution, X, of the equation:</p><div>\[X = \mathrm{argmin}_{x \ge 0} ||Cx - d||_2^2\]</div><p><strong>Arguments</strong></p><ul><li><code>C::AbstractMatrix</code>: Left hand side matrix acting on <code>x</code></li><li><code>d::AbstractVector</code>: Right hand side vector</li></ul><p><strong>Outputs</strong></p><ul><li><code>X::AbstractVector</code>: NNLS solution</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/DECAES.jl/blob/cc80e6b3de6cdc5018ea0bbdde32dc729725ccfd/src/lsqnonneg.jl#L4-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DECAES.lsqnonneg_reg" href="#DECAES.lsqnonneg_reg"><code>DECAES.lsqnonneg_reg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">lsqnonneg_reg(C::AbstractMatrix, d::AbstractVector, Chi2Factor::Real)</code></pre><p>Returns the regularized NNLS solution, X, that incurrs an increase in <span>$\chi^2$</span> approximately by a factor of <code>Chi2Factor</code>. The regularized NNLS problem solved internally is:</p><div>\[X = \mathrm{argmin}_{x \ge 0} ||Cx - d||_2^2 + \mu^2 ||x||_2^2\]</div><p>where <span>$\mu$</span> is determined by approximating a solution to the nonlinear equation</p><div>\[\frac{\chi^2(\mu)}{\chi^2_{min}} = \mathrm{Chi2Factor}
\quad
\text{where}
\quad
\chi^2_{min} = \chi^2(\mu = 0)\]</div><p><strong>Arguments</strong></p><ul><li><code>C::AbstractMatrix</code>: Decay basis matrix</li><li><code>d::AbstractVector</code>: Decay curve data</li><li><code>Chi2Factor::Real</code>: Desired <span>$\chi^2$</span> increase due to regularization</li></ul><p><strong>Outputs</strong></p><ul><li><code>X::AbstractVector</code>: Regularized NNLS solution</li><li><code>mu::Real</code>: Resulting regularization parameter <span>$\mu$</span></li><li><code>Chi2Factor::Real</code>: Actual increase <span>$\chi^2(\mu)/\chi^2_{min}$</span>, which will be approximately equal to the input <code>Chi2Factor</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/DECAES.jl/blob/cc80e6b3de6cdc5018ea0bbdde32dc729725ccfd/src/lsqnonneg_reg.jl#L1-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DECAES.lsqnonneg_lcurve" href="#DECAES.lsqnonneg_lcurve"><code>DECAES.lsqnonneg_lcurve</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">lsqnonneg_lcurve(C::AbstractMatrix, d::AbstractVector)</code></pre><p>Returns the regularized NNLS solution, X, of the equation</p><div>\[X = \mathrm{argmin}_{x \ge 0} ||Cx - d||_2^2 + \mu^2 ||H x||_2^2\]</div><p>where <span>$H$</span> is the identity matrix and <span>$\mu$</span> is chosen by the L-curve theory using the Generalized Cross-Validation method. Details of L-curve and GCV methods can be found in: <a href="https://doi.org/10.1137/1034115">Hansen, P.C., 1992. Analysis of Discrete Ill-Posed Problems by Means of the L-Curve. SIAM Review, 34(4), 561-580</a></p><p><strong>Arguments</strong></p><ul><li><code>C::AbstractMatrix</code>: Decay basis matrix</li><li><code>d::AbstractVector</code>: Decay curve data</li></ul><p><strong>Outputs</strong></p><ul><li><code>X::AbstractVector</code>: Regularized NNLS solution</li><li><code>mu::Real</code>: Resulting regularization parameter <span>$\mu$</span></li><li><code>Chi2Factor::Real</code>: Resulting increase in <span>$\chi^2$</span> relative to unregularized (<span>$\mu = 0$</span>) solution</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/DECAES.jl/blob/cc80e6b3de6cdc5018ea0bbdde32dc729725ccfd/src/lsqnonneg_lcurve.jl#L1-L22">source</a></section></article><h2 id="epg-1"><a class="docs-heading-anchor" href="#epg-1">Extended Phase Graph Algorithm</a><a class="docs-heading-anchor-permalink" href="#epg-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DECAES.EPGdecaycurve" href="#DECAES.EPGdecaycurve"><code>DECAES.EPGdecaycurve</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">EPGdecaycurve(ETL::Int, flip_angle::Real, TE::Real, T2::Real, T1::Real, refcon::Real)</code></pre><p>Computes the normalized echo decay curve for a MR spin echo sequence using the extended phase graph algorithm using the given input parameters.</p><p><strong>Arguments</strong></p><ul><li><code>ETL::Int</code>:         echo train length, i.e. number of echos</li><li><code>flip_angle::Real</code>: angle of refocusing pulses (Units: degrees)</li><li><code>TE::Real</code>:         inter-echo time (Units: seconds)</li><li><code>T2::Real</code>:         transverse relaxation time (Units: seconds)</li><li><code>T1::Real</code>:         longitudinal relaxation time (Units: seconds)</li><li><code>refcon::Real</code>:     value of Refocusing Pulse Control Angle (Units: degrees)</li></ul><p><strong>Outputs</strong></p><ul><li><code>decay_curve::AbstractVector</code>: normalized echo decay curve with length <code>ETL</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/DECAES.jl/blob/cc80e6b3de6cdc5018ea0bbdde32dc729725ccfd/src/EPGdecaycurve.jl#L19-L35">source</a></section></article><h2 id="main-1"><a class="docs-heading-anchor" href="#main-1">Main Entrypoint Function</a><a class="docs-heading-anchor-permalink" href="#main-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="DECAES.main" href="#DECAES.main"><code>DECAES.main</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">main(command_line_args = ARGS)</code></pre><p>Entry point function for command line interface, parsing the command line arguments <code>ARGS</code> and subsequently calling one or both of <code>T2mapSEcorr</code> and <code>T2partSEcorr</code> with the parsed settings. See the <a href="../cli/#Arguments-1">Arguments</a> section for available options.</p><p>See also:</p><ul><li><a href="#DECAES.T2mapSEcorr"><code>T2mapSEcorr</code></a></li><li><a href="#DECAES.T2partSEcorr"><code>T2partSEcorr</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jondeuce/DECAES.jl/blob/cc80e6b3de6cdc5018ea0bbdde32dc729725ccfd/src/main.jl#L1-L10">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../cli/">« Command Line Interface</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 18 June 2020 01:28">Thursday 18 June 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
